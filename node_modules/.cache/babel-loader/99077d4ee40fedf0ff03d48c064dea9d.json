{"ast":null,"code":"export const helpHttp = () => {\n  const customFetch = (endpoint, options) => {\n    const defaultHeader = {\n      accept: \"application/json\"\n    };\n    const controller = new AbortController();\n    options.signal = controller.signal;\n    options.method = options.method || \"GET\";\n    options.headers = options.headers ? { ...defaultHeader,\n      ...options.headers\n    } : defaultHeader;\n    options.body = JSON.stringify(options.body) || false;\n    if (!options.body) delete options.body; //console.log(options);\n\n    setTimeout(() => controller.abort(), 3000);\n    return fetch(endpoint, options).then(res => res.ok ? res.json() : Promise.reject({\n      err: true,\n      status: res.status || \"00\",\n      statusText: res.statusText || \"An error has ocurred!!!\"\n    })).catch(err => err);\n  };\n\n  const get = function (url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return customFetch(url, options);\n  };\n\n  const post = function (url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.method = \"POST\";\n    return customFetch(url, options);\n  };\n\n  const put = function (url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.method = \"PUT\";\n    return customFetch(url, options);\n  };\n\n  const del = function (url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    options.method = \"DELETE\"; // console.log(url);\n\n    return customFetch(url, options);\n  };\n\n  return {\n    get,\n    post,\n    put,\n    del\n  };\n};","map":{"version":3,"sources":["/Users/pipemv/Desktop/final-project/src/helpers/helpHttp.js"],"names":["helpHttp","customFetch","endpoint","options","defaultHeader","accept","controller","AbortController","signal","method","headers","body","JSON","stringify","setTimeout","abort","fetch","then","res","ok","json","Promise","reject","err","status","statusText","catch","get","url","post","put","del"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,MAAM;AAC5B,QAAMC,WAAW,GAAG,CAACC,QAAD,EAAWC,OAAX,KAAuB;AACzC,UAAMC,aAAa,GAAG;AACpBC,MAAAA,MAAM,EAAE;AADY,KAAtB;AAIA,UAAMC,UAAU,GAAG,IAAIC,eAAJ,EAAnB;AACAJ,IAAAA,OAAO,CAACK,MAAR,GAAiBF,UAAU,CAACE,MAA5B;AAEAL,IAAAA,OAAO,CAACM,MAAR,GAAiBN,OAAO,CAACM,MAAR,IAAkB,KAAnC;AACAN,IAAAA,OAAO,CAACO,OAAR,GAAkBP,OAAO,CAACO,OAAR,GACd,EAAE,GAAGN,aAAL;AAAoB,SAAGD,OAAO,CAACO;AAA/B,KADc,GAEdN,aAFJ;AAIAD,IAAAA,OAAO,CAACQ,IAAR,GAAeC,IAAI,CAACC,SAAL,CAAeV,OAAO,CAACQ,IAAvB,KAAgC,KAA/C;AACA,QAAI,CAACR,OAAO,CAACQ,IAAb,EAAmB,OAAOR,OAAO,CAACQ,IAAf,CAdsB,CAgBzC;;AACAG,IAAAA,UAAU,CAAC,MAAMR,UAAU,CAACS,KAAX,EAAP,EAA2B,IAA3B,CAAV;AAEA,WAAOC,KAAK,CAACd,QAAD,EAAWC,OAAX,CAAL,CACJc,IADI,CACEC,GAAD,IACJA,GAAG,CAACC,EAAJ,GACID,GAAG,CAACE,IAAJ,EADJ,GAEIC,OAAO,CAACC,MAAR,CAAe;AACbC,MAAAA,GAAG,EAAE,IADQ;AAEbC,MAAAA,MAAM,EAAEN,GAAG,CAACM,MAAJ,IAAc,IAFT;AAGbC,MAAAA,UAAU,EAAEP,GAAG,CAACO,UAAJ,IAAkB;AAHjB,KAAf,CAJD,EAUJC,KAVI,CAUGH,GAAD,IAASA,GAVX,CAAP;AAWD,GA9BD;;AAgCA,QAAMI,GAAG,GAAG,UAACC,GAAD;AAAA,QAAMzB,OAAN,uEAAgB,EAAhB;AAAA,WAAuBF,WAAW,CAAC2B,GAAD,EAAMzB,OAAN,CAAlC;AAAA,GAAZ;;AAEA,QAAM0B,IAAI,GAAG,UAACD,GAAD,EAAuB;AAAA,QAAjBzB,OAAiB,uEAAP,EAAO;AAClCA,IAAAA,OAAO,CAACM,MAAR,GAAiB,MAAjB;AACA,WAAOR,WAAW,CAAC2B,GAAD,EAAMzB,OAAN,CAAlB;AACD,GAHD;;AAKA,QAAM2B,GAAG,GAAG,UAACF,GAAD,EAAuB;AAAA,QAAjBzB,OAAiB,uEAAP,EAAO;AACjCA,IAAAA,OAAO,CAACM,MAAR,GAAiB,KAAjB;AACA,WAAOR,WAAW,CAAC2B,GAAD,EAAMzB,OAAN,CAAlB;AACD,GAHD;;AAKA,QAAM4B,GAAG,GAAG,UAACH,GAAD,EAAuB;AAAA,QAAjBzB,OAAiB,uEAAP,EAAO;AACjCA,IAAAA,OAAO,CAACM,MAAR,GAAiB,QAAjB,CADiC,CAEjC;;AACA,WAAOR,WAAW,CAAC2B,GAAD,EAAMzB,OAAN,CAAlB;AACD,GAJD;;AAMA,SAAO;AACLwB,IAAAA,GADK;AAELE,IAAAA,IAFK;AAGLC,IAAAA,GAHK;AAILC,IAAAA;AAJK,GAAP;AAMD,CAzDM","sourcesContent":["export const helpHttp = () => {\n  const customFetch = (endpoint, options) => {\n    const defaultHeader = {\n      accept: \"application/json\",\n    };\n\n    const controller = new AbortController();\n    options.signal = controller.signal;\n\n    options.method = options.method || \"GET\";\n    options.headers = options.headers\n      ? { ...defaultHeader, ...options.headers }\n      : defaultHeader;\n\n    options.body = JSON.stringify(options.body) || false;\n    if (!options.body) delete options.body;\n\n    //console.log(options);\n    setTimeout(() => controller.abort(), 3000);\n\n    return fetch(endpoint, options)\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject({\n              err: true,\n              status: res.status || \"00\",\n              statusText: res.statusText || \"An error has ocurred!!!\",\n            })\n      )\n      .catch((err) => err);\n  };\n\n  const get = (url, options = {}) => customFetch(url, options);\n\n  const post = (url, options = {}) => {\n    options.method = \"POST\";\n    return customFetch(url, options);\n  };\n\n  const put = (url, options = {}) => {\n    options.method = \"PUT\";\n    return customFetch(url, options);\n  };\n\n  const del = (url, options = {}) => {\n    options.method = \"DELETE\";\n    // console.log(url);\n    return customFetch(url, options);\n  };\n\n  return {\n    get,\n    post,\n    put,\n    del,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}